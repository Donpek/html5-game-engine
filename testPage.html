<!DOCTYPE HTML>
<html>
<head>
  <title>HTML Game Engine</title>
  <meta name='viewport' content='width=device-width, initial-scale=1' />

  <script src='jquery-3.2.1.min.js'></script>
  <script src='canvas.js'></script>
  <script src='math-stuffs.js'></script>
  <script src='sprite.js'></script>
  <script src='loader.js'></script>
</head>

<body style='background:#333'>
  <script language='javascript'>
  var C = null;

  var TILE_W = 32;
  var TILE_H = 32;

  var tilePaths = ['sprites/testTile.png', 'sprites/testTile2.png'];

  var map = [1,1,0,0,0,0,0,0,0,0,
             1,1,0,0,0,0,0,0,0,0,
             1,1,0,0,0,0,0,0,0,0,
             1,1,0,0,0,0,0,0,0,0,
             1,1,0,0,0,0,0,0,0,0,
             1,1,0,0,0,0,0,0,0,0,
             1,1,0,0,0,0,0,0,0,0,
             1,1,0,0,0,0,0,0,0,0,
             1,1,0,0,0,0,0,0,0,0,
             1,1,0,0,0,0,0,0,0,0];

  var map_index;

  $(document).ready(function(){
    C = new HTML_Canvas('game', 800, 640, '2d');

    sprites_loaded_callback = function()
    {
      sprites[0].draw(0,0);
      sprites[1].draw(32,0);

      map_index = 0;
      for(var y=0;y<10;y++)
        for(var x=0;x<10;x++,map_index++)
          sprites[map[map_index]].draw(50 + x*TILE_W, 50 + y*TILE_H);
    };

    loadSprites(tilePaths);
  });
  </script>

  <canvas id="game"></canvas>
</body>
</html>
