<!DOCTYPE HTML>
<html>
<head>
  <title>HTML Game Engine</title>
  <meta name='viewport' content='width=device-width, initial-scale=1' />

  <script src='jquery-3.2.1.min.js'></script>
  <script src='animation.js'></script>
  <script src='keyboard.js'></script>
  <script src='canvas.js'></script>
  <script src='math-stuffs.js'></script>
  <script src='sprite.js'></script>
  <script src='game.js'></script>
</head>

<body style='background:#333'>
  <script language='javascript'>
  const TILE_W = 32;
  const TILE_H = 32;

  let C = null;
  const FPS = 1000/30;

  const gfx_src = [
    'sprites/testTile.png',
    'sprites/testTile2.png',
    'sprites/testSheet.png',
    'sprites/pokemon.png'
  ];

  const map = [0,0,1,1,1,0,2,2,2,2,
               0,1,1,1,0,0,0,2,2,2,
               1,1,1,0,0,0,0,2,2,2,
               1,1,0,0,0,0,0,0,2,2,
               1,1,0,0,0,0,0,0,2,2,
               1,1,0,0,0,0,0,0,2,2,
               1,1,0,0,0,0,0,0,2,2,
               1,1,0,0,0,0,0,2,2,2,
               1,1,1,0,0,0,0,2,2,2,
               0,1,1,1,0,0,2,2,2,2];

  let map_index = 0;

  /*player*/
  let px = py = 32;
  let moveSpeed = 2;
  let direction;

  const green_poke_delay = [4,4,4,4];
  const green_poke_SW = new Animation([117,118,119,118],green_poke_delay);
  const green_poke_W = new Animation([114,115,116,115],green_poke_delay);
  const green_poke_NW = new Animation([111,112,113,112],green_poke_delay);
  const green_poke_N = new Animation([108,109,110,109],green_poke_delay);
  const green_poke_NE = new Animation([105,106,107,106],green_poke_delay);
  const green_poke_E = new Animation([102,103,104,103],green_poke_delay);
  const green_poke_SE = new Animation([99,100,101,100],green_poke_delay);
  const green_poke_S = new Animation([96,97,98,97],green_poke_delay);

  let pokemonAni = green_poke_S;
  let pokemonStill = 96;
  const waterAni = new Animation([0,1,2,3,4,5],[75,77,99,77,75,73]);
  /**/

  $(document).ready( () => {
    /*Disable scrolling*/
    document.documentElement.style.overflow = 'hidden';
    document.body.scroll = 'no';
    /**/
    C = new HTML_Canvas('game', 800, 640, '2d');
    Drawable.prototype.ctx = C.ctx;

    Sprites(gfx_src);
    Keyboard();
  });
  </script>

  <canvas id="game"></canvas>
</body>
</html>

<!--

-->
